# üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud API

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞ Google:
1.  **Google Sheets API** ‚Äî –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –ª–æ–≥–æ–≤ —Å–º–µ–Ω.
2.  **Google Drive API** ‚Äî –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–¥–µ–æ-–æ—Ç—á–µ—Ç–æ–≤.

## üìù –®–∞–≥–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Cloud Console

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Google Cloud Console](https://console.cloud.google.com/).
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, `TG-TimeChecker`).

### 2. –í–∫–ª—é—á–µ–Ω–∏–µ API
–í —Ä–∞–∑–¥–µ–ª–µ **APIs & Services > Library** –Ω–∞–π–¥–∏—Ç–µ –∏ –≤–∫–ª—é—á–∏—Ç–µ:
*   Google Sheets API
*   Google Drive API

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth Consent Screen
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **APIs & Services > OAuth consent screen**.
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø `External` (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è).
3. –£–∫–∞–∂–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–≤–æ–π email.
4. –í —Ä–∞–∑–¥–µ–ª–µ **Scopes** –¥–æ–±–∞–≤—å—Ç–µ –≤—Ä—É—á–Ω—É—é:
    *   `https://www.googleapis.com/auth/spreadsheets`
    *   `https://www.googleapis.com/auth/drive`
5. –í **Test users** –¥–æ–±–∞–≤—å—Ç–µ —Å–≤–æ–π Google-–∞–∫–∫–∞—É–Ω—Ç, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –±—É–¥–µ—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å.

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Credentials)
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **APIs & Services > Credentials**.
2. –ù–∞–∂–º–∏—Ç–µ **Create Credentials > OAuth client ID**.
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: **Desktop App**.
4. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Bot-Local`).
5. –°–∫–∞—á–∞–π—Ç–µ JSON-—Ñ–∞–π–ª.
6. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ –µ–≥–æ –≤ `client_secret.json` –∏ –ø–æ–ª–æ–∂–∏—Ç–µ –≤ –ø–∞–ø–∫—É `credentials/` –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.

## üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¢–∞–±–ª–∏—Ü—ã –∏ –ü–∞–ø–∫–∏

1. **–¢–∞–±–ª–∏—Ü–∞**: –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é Google –¢–∞–±–ª–∏—Ü—É. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—ë ID –∏–∑ URL (–º–µ–∂–¥—É `/d/` –∏ `/edit`). –í—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ `.env` –ø–∞—Ä–∞–º–µ—Ç—Ä `GOOGLE_SHEET_ID`.
2. **–ü–∞–ø–∫–∞ Drive**: –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É –Ω–∞ Google –î–∏—Å–∫–µ, –∫—É–¥–∞ –±—É–¥—É—Ç –ø–∞–¥–∞—Ç—å –≤–∏–¥–µ–æ. –û—Ç–∫—Ä–æ–π—Ç–µ –µ—ë –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∏–∑ URL. –í—Å—Ç–∞–≤—å—Ç–µ –µ–≥–æ –≤ `.env` –ø–∞—Ä–∞–º–µ—Ç—Ä `DRIVE_FOLDER_ID`.

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ `main.py` –±–æ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç OAuth –ø–æ—Ç–æ–∫. –í–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –¥–æ—Å—Ç—É–ø –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç —Ç–æ–∫–µ–Ω –≤ `credentials/token.pickle`.